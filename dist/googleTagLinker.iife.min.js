/*!
*
*   @giovaniortolanibarbosa/google-tag-linker 0.1.3
*   https://github.com/analytics-debugger/google-tag-linker
*   https://github.com/giovaniortolani/google-tag-linker
*
*   Copyright (c) David Vallejo (https://www.thyngster.com).
*   Copyright (c) Giovani Ortolani Barbosa (https://www.linkedin.com/in/giovani-ortolani-barbosa/).
*   This source code is licensed under the MIT license found in the
*   LICENSE file in the root directory of this source tree.
*
*/

var googleTagLinker=function(){"use strict";var e=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function r(e,r){return[e,window.btoa(r).replace(/=/g,".")].join("*")}function i(e){return window.atob(e.replace(/\./g,"="))}function n(e,r,i,n){function o(r){var i=(r=function(e,r){if(e=function(e){return new RegExp("(.*?)(^|&)"+e+"=([^&]*)&?(.*)")}(e).exec(r)){var i=e[2],n=e[4];r=e[1],n&&(r=r+i+n)}return r}(e,r)).charAt(r.length-1);return r&&"&"!==i&&(r+="&"),r+f}n=!!n;var t=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(i);if(!t)return"";var a=t[1],s=t[2]||"",c=t[3]||"",f=e+"="+r;return n?c="#"+o(c.substring(1)):s="?"+o(s.substring(1)),""+a+s+c}function o(){for(var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=[window.navigator.userAgent,(new Date).getTimezoneOffset(),window.navigator.userLanguage||window.navigator.language,Math.floor((new Date).getTime()/60/1e3)-0,r?r.join("*"):""].join("*"),n=[],o=0;o<256;o++){e=o;for(var t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;n[o]=e}for(var a=-1,s=0;s<i.length;s++)a=a>>>8^n[255&(a^i.charCodeAt(s))];return((-1^a)>>>0).toString(36)}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.cookiesNamesList,n=e.gaCookiesPrefix,o=e.conversionLinkerCookiesPrefix,t=new RegExp("^"+n+"_ga"),a=/G[A-Z]1\.[0-9]\.(.+)/,s=[],c=void 0;return Array.isArray(i)?i.forEach((function(e){var i=function(e){for(var r=("; "+document.cookie).split("; "),i=r.length-1;i>=0;i--){var n=r[i].split("=");if(e instanceof RegExp?e.test(n[0]):e===n[0])return[n[0],n[1]]}return[]}(e);e=i[0];var n=i[1];if(n){if(t.test(e))n=n.match(a)[1];else{if("FPLC"===e)return void(c=n);e!==o+"_au"&&"FPAU"!==e||(n=n.split(".").slice(2).join("."))}s.push(r(e,n))}})):Object.keys(i).forEach((function(e){var n=i[e];"FPLC"!==e?s.push(r(e,n)):c=n})),c&&s.push(r("_fplc",c)),s}({cookiesNamesList:e.cookiesNamesList,gaCookiesPrefix:e.gaCookiesPrefix,conversionLinkerCookiesPrefix:e.conversionLinkerCookiesPrefix});return["1",o(i),i.join("*")].join("*")}var a=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||void 0===window.document)throw"This should be only run on a browser";var s={gaCookiesPrefix:a.gaCookiesPrefix||"",conversionLinkerCookiesPrefix:a.conversionLinkerCookiesPrefix||"_gcl",linkerQueryParameterName:a.linkerQueryParameterName||"_gl",checkFingerPrint:!!a.checkFingerPrint||!1,useFragment:!!a.useFragment||!1};switch(a.cookiesNamesList?s.cookiesNamesList=a.cookiesNamesList:(s.cookiesNamesList=[s.gaCookiesPrefix+"_ga",new RegExp("^"+s.gaCookiesPrefix+"_ga_[A-Z,0-9]"),"FPLC","FPAU"],["_aw","_dc","_gb","_gf","_ha","_au"].forEach((function(e){s.cookiesNamesList.push(s.conversionLinkerCookiesPrefix+e)}))),r){case"get":return t({cookiesNamesList:s.cookiesNamesList,gaCookiesPrefix:s.gaCookiesPrefix,conversionLinkerCookiesPrefix:s.conversionLinkerCookiesPrefix});case"read":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e,r,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.linkerQueryParameterName,s=t.checkFingerPrint,c=(e=a,r=window.location.href,null===(n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(r))?null:decodeURIComponent(n[1]));if(c){for(var f=c.split("*").slice(2),u={},g=[],k=0;k<f.length;k+=2){var v=f[k],m=f[k+1];g.push(v+"*"+m),u[v]=i(m)}if(s){var l=o(g);if(c.split("*")[1]!==l)return}return u}}({linkerQueryParameterName:e.linkerQueryParameterName,checkFingerPrint:e.checkFingerPrint})}({linkerQueryParameterName:s.linkerQueryParameterName,checkFingerPrint:s.checkFingerPrint});case"decorate":return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.linkerQueryParameterName,o=r.cookiesNamesList,a=r.gaCookiesPrefix,s=r.conversionLinkerCookiesPrefix,c=r.entity,f=r.useFragment,u=t({cookiesNamesList:o,gaCookiesPrefix:a,conversionLinkerCookiesPrefix:s});if(c.tagName){if("A"===c.tagName)return function(r,i,o,t){if(o&&o.href){var a=n(r,i,o.href,t);if(e.test(a))return o.href=a,o}}(i,u,c,f);if("FORM"===c.tagName)return function(r,i,o){if(o&&o.action){var t=(o.method||"").toLowerCase();if("get"===t){for(var a=o.childNodes||[],s=!1,c=0;c<a.length;c++){var f=a[c];if(f.name===r){f.setAttribute("value",i),s=!0;break}}if(!s){var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",r),u.setAttribute("value",i),o.appendChild(u)}return o}if("post"===t){var g=n(r,i,o.action);if(e.test(g))return o.action=g,o}}}(i,u,c)}else if("string"==typeof c)return n(i,u,c,f)}({linkerQueryParameterName:s.linkerQueryParameterName,cookiesNamesList:s.cookiesNamesList,gaCookiesPrefix:s.gaCookiesPrefix,conversionLinkerCookiesPrefix:s.conversionLinkerCookiesPrefix,entity:a.entity,useFragment:s.useFragment})}};return a.prototype={},a.answer=42,a}();
