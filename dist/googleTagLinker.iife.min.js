/*!
*
*   @giovaniortolani/google-tag-linker 0.1.1
*   https://github.com/analytics-debugger/google-tag-linker
*   https://github.com/giovaniortolani/google-tag-linker
*
*   Copyright (c) David Vallejo (https://www.thyngster.com).
*   Copyright (c) Giovani Ortolani Barbosa (https://www.linkedin.com/in/giovani-ortolani-barbosa/).
*   This source code is licensed under the MIT license found in the
*   LICENSE file in the root directory of this source tree.
*
*/

var googleTagLinker=function(){"use strict";var e=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function r(e,r){return[e,window.btoa(r).replace(/=/g,".")].join("*")}function i(e){return window.atob(e.replace(/\./g,"="))}function t(e,r,i,t){function n(r){var i=(r=function(e,r){if(e=function(e){return new RegExp("(.*?)(^|&)"+e+"=([^&]*)&?(.*)")}(e).exec(r)){var i=e[2],t=e[4];r=e[1],t&&(r=r+i+t)}return r}(e,r)).charAt(r.length-1);return r&&"&"!==i&&(r+="&"),r+c}t=!!t;var o=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(i);if(!o)return"";var a=o[1],s=o[2]||"",u=o[3]||"",c=e+"="+r;return t?u="#"+n(u.substring(1)):s="?"+n(s.substring(1)),""+a+s+u}function n(){for(var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=[window.navigator.userAgent,(new Date).getTimezoneOffset(),window.navigator.userLanguage||window.navigator.language,Math.floor((new Date).getTime()/60/1e3)-0,r?r.join("*"):""].join("*"),t=[],n=0;n<256;n++){e=n;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}for(var a=-1,s=0;s<i.length;s++)a=a>>>8^t[255&(a^i.charCodeAt(s))];return((-1^a)>>>0).toString(36)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.cookiesNamesList,t=e.gaCookiesPrefix,n=new RegExp("^"+t+"_ga"),o=[],a=void 0;return Array.isArray(i)?i.forEach((function(e){var i=function(e){for(var r=("; "+document.cookie).split("; "),i=r.length-1;i>=0;i--){var t=r[i].split("=");if(e instanceof RegExp?e.test(t[0]):e===t[0])return[t[0],t[1]]}return[]}(e);e=i[0];var t=i[1];if(t){if(n.test(e))t=t.match(/G[A-Z]1\.[0-9]\.(.+)/)[1];else if("FPLC"===e)return void(a=t);o.push(r(e,t))}})):Object.keys(i).forEach((function(e){var t=i[e];"FPLC"!==e?o.push(r(e,t)):a=t})),a&&o.push(r("_fplc",a)),o}({cookiesNamesList:e.cookiesNamesList,gaCookiesPrefix:e.gaCookiesPrefix});return["1",n(i),i.join("*")].join("*")}var a=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window||void 0===window.document)throw"This should be only run on a browser";var s={gaCookiesPrefix:a.gaCookiesPrefix||"",conversionLinkerCookiesPrefix:a.conversionLinkerCookiesPrefix||"_gcl",linkerQueryParameterName:a.linkerQueryParameterName||"_gl",checkFingerPrint:!!a.checkFingerPrint||!1,useFragment:!!a.useFragment||!1};switch(a.cookiesNamesList?s.cookiesNamesList=a.cookiesNamesList:(s.cookiesNamesList=[s.gaCookiesPrefix+"_ga",new RegExp("^"+s.gaCookiesPrefix+"_ga_[A-Z,0-9]"),"FPLC"],["_aw","_dc","_gb","_gf","_ha"].forEach((function(e){s.cookiesNamesList.push(s.conversionLinkerCookiesPrefix+e)}))),r){case"get":return o({cookiesNamesList:s.cookiesNamesList,gaCookiesPrefix:s.gaCookiesPrefix});case"read":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e,r,t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.linkerQueryParameterName,s=o.checkFingerPrint,u=(e=a,r=window.location.href,null===(t=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(r))?null:decodeURIComponent(t[1]));if(u){for(var c=u.split("*").slice(2),f={},g=[],k=0;k<c.length;k+=2){var m=c[k],v=c[k+1];g.push(m+"*"+v),f[m]=i(v)}if(s){var l=n(g);if(u.split("*")[1]!==l)return}return f}}({linkerQueryParameterName:e.linkerQueryParameterName,checkFingerPrint:e.checkFingerPrint})}({linkerQueryParameterName:s.linkerQueryParameterName,checkFingerPrint:s.checkFingerPrint});case"decorate":return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.linkerQueryParameterName,n=r.cookiesNamesList,a=r.gaCookiesPrefix,s=r.entity,u=r.useFragment,c=o({cookiesNamesList:n,gaCookiesPrefix:a});if(s.tagName){if("A"===s.tagName)return function(r,i,n,o){if(n&&n.href){var a=t(r,i,n.href,o);if(e.test(a))return n.href=a,n}}(i,c,s,u);if("FORM"===s.tagName)return function(r,i,n){if(n&&n.action){var o=(n.method||"").toLowerCase();if("get"===o){for(var a=n.childNodes||[],s=!1,u=0;u<a.length;u++){var c=a[u];if(c.name===r){c.setAttribute("value",i),s=!0;break}}if(!s){var f=document.createElement("input");f.setAttribute("type","hidden"),f.setAttribute("name",r),f.setAttribute("value",i),n.appendChild(f)}return n}if("post"===o){var g=t(r,i,n.action);if(e.test(g))return n.action=g,n}}}(i,c,s)}if("string"==typeof s)return t(i,c,s,u)}({linkerQueryParameterName:s.linkerQueryParameterName,cookiesNamesList:s.cookiesNamesList,gaCookiesPrefix:s.gaCookiesPrefix,entity:a.entity,useFragment:s.useFragment})}};return a.prototype={},a.answer=42,a}();
